import{_ as f,az as _,q as n,o as a,c,b as s,m as l,F as y,i as k,A as x,t as o,w as h,j as w,ai as b,aj as H}from"./index-570ffed7.js";import A from"./addHost-c8095001.js";const D={name:"host",components:{AddHost:A},data(){return{loading:!1,showAdd:!1,checkHost:{},listData:[],listTotal:0,listQuery:{page:1,page_size:10}}},created(){this.getList()},methods:{getList(){this.loading=!0,_.get("/api/admin/docker/host",this.listQuery).then(t=>{this.listData=t.data,this.listTotal=t.total,this.loading=!1})},handleAddHost(t){this.showAdd=!1,t&&this.getList()},handleEditHost(t){this.checkHost=t,this.showAdd=!0},handleDelete(t){_.delete(`/api/admin/docker/host/${t.id}`).then(p=>{this.$message({message:"删除成功",type:"success"}),this.getList()})},handleToDetail(t){this.$router.push({path:`/docker/dockerHostDetail?id=${t.id}`})}}},r=t=>(b("data-v-46e3c0fe"),t=t(),H(),t),S={class:"container"},C={class:"widget"},L=r(()=>s("div",{class:"tool-bar"},[s("span",null,[s("strong",null,"主机管理")])],-1)),j={class:"action-bar"},q={class:"host-container"},B={class:"box-warp"},I={class:"box-header"},T={style:{"text-align":"left"}},V={class:"server-list__item-header-left"},F=r(()=>s("img",{alt:"",src:"https://imgcache.qq.com/open_proj/proj_qcloud_v2/tc-console/tea-static-lighthouse/src/styles/slice/CentOS.svg",class:"tea-align-middle tea-mr-1n",style:{height:"32px"}},null,-1)),N={style:{"text-align":"right",flex:"auto"}},$={class:"box-body"},z={class:"line-mg"},E={class:"line-mg"},Q={key:0},G={class:"line-mg"},O={class:"line-mg"},P={class:"box-footer"},U={style:{"text-align":"right"}};function J(t,p,K,M,i,d){const u=n("el-alert"),g=n("el-button"),m=n("el-card"),v=n("add-host");return a(),c("div",S,[s("div",C,[L,s("div",j,[l(u,{title:"该界面仅提供管理员批量运维，数据源来源于宿主机！",type:"info","show-icon":""})]),s("div",q,[(a(!0),c(y,null,k(i.listData,e=>(a(),c("div",B,[l(m,null,{default:x(()=>[s("div",I,[s("div",T,[s("div",V,[F,s("span",null,o(e.name),1)])]),s("div",N,[l(g,{style:{padding:"4px"},onClick:R=>d.handleToDetail(e),icon:"el-icon-more",type:"primary",circle:""},null,8,["onClick"])])]),s("div",$,[s("div",z,[s("span",null,"docker api："+o(e.docker_api),1)]),s("div",E,[e.info?(a(),c("span",Q,"version:"+o(e.info.ServerVersion),1)):h("",!0)]),s("div",G,[s("span",null,"CPU:"+o(e.system.cpu)+"核 - 内存 "+o((e.system.memory||0).toFixed(1))+"G",1)]),s("div",O,[s("span",null,"备注："+o(e.remark),1)])]),s("div",P,[s("div",U,o(e.ip),1)])]),_:2},1024)]))),256))])]),i.showAdd?(a(),w(v,{key:0,checkHost:i.checkHost,show:i.showAdd,onSuccess:d.handleAddHost},null,8,["checkHost","show","onSuccess"])):h("",!0)])}const Y=f(D,[["render",J],["__scopeId","data-v-46e3c0fe"]]);export{Y as default};
