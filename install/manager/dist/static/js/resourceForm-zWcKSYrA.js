import{_ as C,r as D,$ as q,L as v,h as B,q as n,o as s,j as _,A as r,m as l,c as F,F as U,i as N,b as h,v as f,J as g,aA as b}from"./index-c6YpnN_1.js";/* empty css              */const j={name:"resourceForm",props:{open:{type:Boolean,default:!1},data:{type:Object}},setup(m,{emit:o}){const d=D([{label:"远程镜像",id:1},{label:"本地镜像",id:2}]),e=q({id:null,name:"",docker_type:null,image:null,description:null});v(()=>m.data,t=>{t&&(e.id=t.id,e.docker_type=t.docker_type,e.image=t.image,e.description=t.description,e.name=t.name)},{immediate:!0,deep:!0});const c={name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],docker_type:[{required:!0,message:"请选择加载类型",trigger:"change"}],description:[{required:!0,message:"请填写描述信息",trigger:"blur"},{min:3,max:200,message:"长度在 3 到 200 个字符",trigger:"blur"}]},u=()=>{o("action",!1)},i=async()=>{e.id?(await g.put(`/api/admin/docker/resource/${e.id}`,e),o("action",!0),b({message:"提交成功",type:"success"})):(await g.post("/api/admin/docker/resource",e),o("action",!0),b({message:"提交成功",type:"success"}))};return B(()=>{}),{docker_type_list:d,formData:e,rules:c,cancel:u,submit:i}}},w={slot:"footer",class:"footer-right"};function A(m,o,d,e,c,u){const i=n("el-input"),t=n("el-form-item"),k=n("el-option"),y=n("el-select"),V=n("el-form"),p=n("el-button"),x=n("el-dialog");return s(),_(x,{modelValue:d.open,title:e.formData.id?"编辑资源":"添加资源",center:"",onClose:e.cancel,width:"40%"},{default:r(()=>[l(V,{model:e.formData,ref:"form","label-width":"80px"},{default:r(()=>[l(t,{label:"资源名称",prop:"name"},{default:r(()=>[l(i,{modelValue:e.formData.name,"onUpdate:modelValue":o[0]||(o[0]=a=>e.formData.name=a)},null,8,["modelValue"])]),_:1}),l(t,{label:"加载类型",prop:"docker_type",required:""},{default:r(()=>[l(y,{modelValue:e.formData.docker_type,"onUpdate:modelValue":o[1]||(o[1]=a=>e.formData.docker_type=a)},{default:r(()=>[(s(!0),F(U,null,N(e.docker_type_list,a=>(s(),_(k,{label:a.label,key:a.id,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(t,{label:"镜像名称",prop:"image"},{default:r(()=>[l(i,{modelValue:e.formData.image,"onUpdate:modelValue":o[2]||(o[2]=a=>e.formData.image=a)},null,8,["modelValue"])]),_:1}),l(t,{label:"描述",prop:"description"},{default:r(()=>[l(i,{type:"textarea",modelValue:e.formData.description,"onUpdate:modelValue":o[3]||(o[3]=a=>e.formData.description=a),rows:5},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),h("span",w,[l(p,{onClick:e.cancel},{default:r(()=>[f("取消")]),_:1},8,["onClick"]),l(p,{type:"primary",onClick:e.submit},{default:r(()=>[f("确定")]),_:1},8,["onClick"])])]),_:1},8,["modelValue","title","onClose"])}const M=C(j,[["render",A]]);export{M as default};
